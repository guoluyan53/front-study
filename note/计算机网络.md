![计算机网络面试题.png](https://gitee.com/guoluyan53/image-bed/raw/master/img/1621606395878-ec50f847-ec2c-451b-885a-0baac77777e0.png)

[TOC]

# HTTP协议

## 1. get和post的区别

- **应用场景**：GET请求一般用于对服务器资源不会产生影响的场景。post一般用于对服务器产生影响的场景。
- **是否缓存**：浏览器一般会对get请求缓存，很少对post请求缓存
- **发送的报文格式**：get请求的报文中实体部分为空，post请求的报文实体部分一般为向服务器发送的数据。
- **安全性**：post比get相对安全
- **请求长度**：浏览器由于对url长度的限制，会影响get请求发送数据时的长度。
- **参数类型**：post的参数传递支持更多的数据类型。

## 2. 常见的HTTP请求头和响应头

**HTTP Request Header常见的请求头**：

```http
Accept: 浏览器能够处理的内容类型
Accept-Charset: 浏览器能够显示的字符集
Accept-Encoding: 浏览器能够处理的压缩编码
Accept-Language: 浏览器当前设置的语言
Connection: 浏览器与服务器之间的连接类型
Cookie: 当前页面设置的任何Cookie
Host: 发出请求的页面所在域
Referer: 发出请求的页面的URL
User-Agent: 浏览器用户代理字符串
```

**HTTP Responses Header 常见的响应头**：

```http
Date: 表示消息发送的时间，时间的描述格式由rfc822定义
server: 服务器名称
Connection: 浏览器与服务器之间连接的类型
Cache-Control: 控制http缓存
content-type: 表示后面的文档属于什么MIME类型
```

## 3. 讲讲304 

304 ：如果客户端发送了一个带条件的get请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个304 状态码。

通俗来说就是：服务器为了提高网站的访问速度，对之前访问的部分页面指定缓存机制，当客户端在此对这些页面进行请求，服务器会根据缓存内容判断页面与之前是否相同，若相同便直接返回304，在此客户端调用缓存内容，不必进行二次下载。

状态码304不应该认为是一种错误，而是对客户端 **有缓存情况下** 服务端的一种响应。

**产生较多304状态码的原因**：

- 页面更新周期长或不更新
- 纯静态页面或强制生成静态HTML

**304状态码出现过多会造成以下问题**：

- 网站快照停止
- 收录减少
- 权重下降

## 4. 说一下http和https

> https 的 SSL加密是在传输层实现的。

### **（1）http和https的基本概念**

`http`：超文本传输协议，是互联网上应用最为广泛的一种网络协议，是一个客户端和服务端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。

`https`：是以安全为目标的HTTP通道，简单讲是http的安全版，即http下加入SSL层，https的安全基础是SSL，因此加密的详细内容就需要SSL。https协议的主要作用是，建立一个信息安全通道，来确保数组的传输，确保网站的真实性。

### **（2）http 和 https的区别**

http传输的数据都是未加密的，也就是明文的，网景公司设置了SSL协议来对http协议传输的数据进行加密处理，简单来说https是由http和SSL协议构建的可进行加密传输和身份认证的网络协议，比http的安全性更高。

- https协议需要ca证书，费用较高
- http协议是超文本传输协议，信息是明文传输，https则是具有安全性的SSL加密传输协议
- 使用不同的连接方式，端口也不同，http端口是80，https端口是443
- http的连接很简单，是无状态的；https协议是由SSL+http协议构建的可进行加密传输、身份认证的网络协议，比http安全。

### （3）https工作原理

1. 客户端使用https url 访问服务器，则要求web服务器建立ssl连接
2. web服务器接收到客户端的请求之后，会将网站的证书（证书中包含了公钥），返回或者说传输给客户端。
3. 客户端和web服务器端开始协商SSL链接的安全等级，也就是加密等级
4. 客户端浏览器通过双方协商一致的安全等级，建立会话秘钥，然后通过网站的公钥来加密会话秘钥，并传送给网站。
5. web服务器通过自己的私钥解密出会话秘钥
6. web服务器通过会话秘钥加密与客户端之间的通信

## 5. HTTP1.0 ，1.1， 2.0

### HTTP1.0比较1.1

- **连接方面**：http1.0默认使用非持久连接，http1.1默认使用持久连接。http1.1通过使用持久连接来使多个http请求复用同一个TCP连接，以此来避免使用非持久连接时每次需要建立连接的时延。
- **资源请求方面**：http1.0存在带宽浪费现象，比如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点功能。http1.1则在请求头引入了range头域，它允许只请求资源的某个部分，即返回码是206，便于充分利用带宽和连接。
- **缓存方面**：在http1.0中主要使用 header里的 `if-Modified-Since`、`Expires`来作为缓存判断标准，在http1.1则引入了更对的缓存控制策略，例如 `Etag`、`If-Unmodified-Since`、`If-Match`、`If-None-Match`等更多可供选择的缓存头来控制缓存策略。
- http1.0不支持Host头部，Http1.1支持，可以实现虚拟主机
- http1.1新增了很多的请求方法，如PUT、HEAD。还新增了24个错误状态响应码，如409（conflict）表示请求的资源与资源当前状态发生冲突。

### HTTP1.1比较2.0

- **二进制协议**：HTTP2.0是一个二进制协议。在http1.1中，报文的头信息必须是文本（ASCLL编码），数据体可以是文本，也可以是二进制。HTTP2则是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为“帧”，可以分为头信息帧和数据帧。
- **多路复用**：http2实现了多路复用，http2仍然复用TCP连接，但是在一个连接里，客户端和服务器都可以同时发送多个请求或回应，而且不用按照顺序一一发送。就是说在同一时间里可以发送多个请求。
- **头部信息压缩**：对报文的头部进行压缩，在客户端和服务器端都维护着一份字典记录着头部对应的索引。
- **服务器推送**：HTTP2允许服务器未经请求，主动向客户端发送资源，这叫服务器推送。推送的是静态资源。



